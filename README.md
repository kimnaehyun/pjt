# 📚 AI 기반 의미론적 도서 추천 서비스

## 1. 프로젝트 개요

### 프로젝트명

**AI 기반 의미론적 도서 검색 및 추천 플랫폼**

### 프로젝트 목적

기존 키워드 기반 도서 검색의 한계를 극복하고,
**사용자의 감정·상황·추상적 요구를 이해하여 도서를 추천하는 서비스**를 제공한다.

> 예)
>
> - “제주도 배경의 따뜻한 소설”
> - “우울할 때 위로가 되는 책”
> - “개발자가 읽으면 좋은 사고 확장 책”

---

## 2. 팀 구성 및 역할 분담

| 이름   | 역할         | 담당 업무                                          |
| ------ | ------------ | -------------------------------------------------- |
| 김내현 | Frontend     | 서비스 UI/UX 설계, Vue 기반 화면 구성 및 상태 관리 |
| 이정현 | Backend / AI | Django REST API 설계, DB 모델링, AI 추천 로직 구현 |

---

## 3. 목표 서비스 및 실제 구현 수준

### 3.1 목표 서비스

- **의미론적 도서 검색**

  - 단순 제목/저자 검색이 아닌 자연어 기반 검색 지원

- **AI 기반 개인화 추천**

  - 사용자 독서 이력과 관심사를 반영한 맞춤 추천

- **추천 이유 제공**

  - “왜 이 책을 추천했는지” 설명 포함

---

### 3.2 실제 구현 정도

- 자연어 입력 기반 도서 추천 구현 완료
- 개인화 추천 기능 구현 완료
- 다만,

  - **추상적인 표현에 대한 정확도는 일부 한계 존재**
  - 데이터 규모가 작을수록 GPT 응답 품질 편차 발생

---

## 4. 데이터베이스 모델링 (ERD)

![ERD](./final.png)

### 설계 핵심 포인트

- **User ↔ Book**

  - 찜한 책, 읽은 책은 **N:M 관계**
  - 중간 테이블(`favorite_books`, `read_books`)로 관리

- **Book ↔ Author / Genre / Category**

  - 모두 **N:M 관계**
  - 확장성과 다중 분류 지원

- **유사 도서(SimilarBook)**

  - Book ↔ Book **자기참조 N:M 관계**
  - 추천 및 연관 도서 기능에 활용

---

## 5. 핵심 기능 설명

### 5.1 기본 기능

- 도서 검색 및 상세 조회
- 도서 찜하기 / 읽음 표시
- 개인 프로필 관리
- 추천 결과에 대한 이유 제공

---

## 6. 생성형 AI 활용 요소

본 서비스는 **OpenAI GPT 모델**을 활용하여
단순 검색이 아닌 **의미 이해 기반 추천**을 수행한다.

AI는 다음 역할을 수행한다.

- 사용자 자연어 의도 해석
- 도서 설명 요약 및 의미 비교
- 개인화 추천 후보 생성
- 검색 키워드 자동 변환

---

# 🤖 AI 기반 도서 추천 시스템 기술 문서

## 7. AI 추천 방식 개요

본 시스템은 **3가지 AI 추천 방식**을 제공한다.

| 방식                    | 설명                             |
| ----------------------- | -------------------------------- |
| 프롬프트 기반 추천      | 사용자의 자연어 요청을 직접 해석 |
| 사용자 프로필 기반 추천 | 독서 이력 + 프로필 기반 개인화   |
| AI 키워드 검색          | 자연어 → 검색 키워드 변환        |

---

## 8. 프롬프트 기반 추천

### API 엔드포인트

```
GET /api/recommendations/by-prompt/?prompt={사용자_입력}&nonce={캐시방지}
```

### 동작 흐름 요약

1. 사용자 자연어 입력 수신
2. DB에서 최대 300권 도서 조회
3. GPT 프롬프트 구성
4. OpenAI API 호출
5. 결과 파싱 및 검증
6. 추천 결과 반환

### 특징

- 추천 이유 포함
- DB 존재 여부 검증
- 실패 시 랜덤 추천 Fallback 제공

---

## 9. 사용자 프로필 기반 추천

### API 엔드포인트

```
GET /api/recommendations/me/?nonce={캐시방지}
```

(인증 필요)

### 활용 데이터

- 찜한 책
- 읽은 책
- 직업, 관심사, 성별

### 특징

- 이미 읽거나 찜한 책 제외
- nonce 기반 재추천 기능
- API 오류 시 인기 도서 기반 Fallback

---

## 10. AI 키워드 검색

### API 엔드포인트

```
GET /api/books/ai-search/?prompt={사용자_입력}&nonce={캐시방지}
```

### 검색 전략

1. GPT 기반 도서 ID 직접 매칭
2. 실패 시 키워드 변환
3. DB 검색
4. DB 결과 없을 경우 알라딘 API 연동

### 장점

- 감정/상황 표현 검색 가능
- 외부 API 연동으로 데이터 확장

---

## 11. 기술 스택

| 영역     | 기술                    |
| -------- | ----------------------- |
| Frontend | Vue.js                  |
| Backend  | Django REST Framework   |
| AI       | OpenAI GPT (gpt-5-mini) |
| DB       | SQLite / PostgreSQL     |
| 외부 API | 알라딘 도서 API         |

---

## 12. 성능 및 안정성 설계

- 토큰 비용 최소화 (`reasoning: minimal`)
- `select_related`로 N+1 문제 해결
- nonce 기반 결과 일관성 유지
- AI 실패 시 Fallback 구조 설계

---

## 13. Git Branch 전략

### GitHub Flow 기반

- `master` : 배포 브랜치
- `feature/{기능명}` : 기능 개발
- `hotfix/{이슈명}` : 긴급 수정

---

## 14. Commit 규칙

```
<type>: <summary>
```

예)

```
feat: AI 기반 도서 추천 API 구현
fix: 추천 결과 중복 문제 해결
```

---

## 15. 프로젝트 한계 및 개선 방향

### 한계

- GPT 응답 품질이 데이터 규모에 의존
- 의미 판단의 일관성 부족 가능성

### 개선 방향

- 임베딩 기반 벡터 검색 도입
- 추천 결과 피드백 학습
- 도서 데이터 지속적 확장

---
